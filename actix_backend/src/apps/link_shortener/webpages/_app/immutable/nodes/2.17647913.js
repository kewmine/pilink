import{s as j,n as L,r as q}from"../chunks/scheduler.e108d1fd.js";import{S as z,i as F,g as f,s as P,m as I,h as m,j as y,f as _,c as N,n as S,k as d,a as O,y as u,z as R,A as U,B as C,o as V}from"../chunks/index.a6586c94.js";function M(r){let a,t,e,p,o,c,i,v,g,l,b,h,E,T,k;return{c(){a=f("form"),t=f("label"),e=f("input"),p=P(),o=f("div"),c=I(`count hits:
    `),i=f("button"),v=I(r[1]),g=P(),l=f("input"),b=P(),h=f("div"),E=I(r[2]),this.h()},l(s){a=m(s,"FORM",{});var n=y(a);t=m(n,"LABEL",{});var A=y(t);e=m(A,"INPUT",{name:!0,placeholder:!0,type:!0}),A.forEach(_),p=N(n),o=m(n,"DIV",{});var w=y(o);c=S(w,`count hits:
    `),i=m(w,"BUTTON",{class:!0});var B=y(i);v=S(B,r[1]),B.forEach(_),w.forEach(_),g=N(n),l=m(n,"INPUT",{type:!0}),n.forEach(_),b=N(s),h=m(s,"DIV",{class:!0});var D=y(h);E=S(D,r[2]),D.forEach(_),this.h()},h(){d(e,"name","uri"),d(e,"placeholder","url to be shortened goes here"),d(e,"type","text"),d(i,"class","svelte-15rnehv"),d(l,"type","submit"),l.value="CREATE",d(h,"class",r[3])},m(s,n){O(s,a,n),u(a,t),u(t,e),R(e,r[0]),u(a,p),u(a,o),u(o,c),u(o,i),u(i,v),u(a,g),u(a,l),O(s,b,n),O(s,h,n),u(h,E),T||(k=[U(e,"input",r[6]),U(i,"click",C(r[4])),U(a,"submit",C(r[5]))],T=!0)},p(s,[n]){n&1&&e.value!==s[0]&&R(e,s[0]),n&2&&V(v,s[1]),n&4&&V(E,s[2]),n&8&&d(h,"class",s[3])},i:L,o:L,d(s){s&&(_(a),_(b),_(h)),T=!1,q(k)}}}let G="/new";function H(r,a,t){let e="",p=!0,o="",c="";function i(){t(1,p=!p),console.log("count_hits")}async function v(){if(t(0,e=e.trim()),e==="")return t(3,c="error"),t(2,o="uri cannot be empty"),1;try{let l=new URLSearchParams;l.append("uri",e),l.append("count_hits",p.toString());const b=await fetch(G,{method:"POST",body:l});t(3,c="success"),t(2,o=await b.text())}catch{t(3,c="error"),t(2,o="something went wrong x_x")}}function g(){e=this.value,t(0,e)}return[e,p,o,c,i,v,g]}class Q extends z{constructor(a){super(),F(this,a,H,M,j,{})}}export{Q as component};
